<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Workout Rest Timer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen;
            text-align: center;
            background: #121212;
            color: #f1f1f1;
            margin: 0;
            padding: 2em;
        }
        h1 {
            font-size: 1.8em;
            margin-bottom: 1em;
        }
        .btn {
            display: inline-block;
            width: 42%;
            margin: 1% 2%;
            padding: 1em;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            background-color: #1E88E5;
            color: white;
            transition: background-color 0.3s ease;
        }
        .btn:hover {
            background-color: #1565C0;
        }
        #timer {
            font-size: 3em;
            margin-top: 1.5em;
            color: #00e676;
        }
    </style>
</head>
<body>
    <h1>Rest Timer</h1>
    <p>Select a rest time below:</p>
    <div>
        <button class="btn" onclick="startTimer(30)">30s</button>
        <button class="btn" onclick="startTimer(45)">45s</button>
        <button class="btn" onclick="startTimer(60)">60s</button>
        <button class="btn" onclick="startTimer(90)">90s</button>
        <button class="btn" onclick="startTimer(120)">2 min</button>
        <button class="btn" onclick="startTimer(180)">3 min</button>
    </div>
    <div id="timer">00:00</div>

    <audio id="beep" preload="auto">
        <source src="https://www.soundjay.com/button/beep-07.mp3" type="audio/mpeg" />
    </audio>

    <script>
        const timerDisplay = document.getElementById('timer');
        const beepSound = document.getElementById('beep');
        let countdown;

        function startTimer(seconds) {
            clearInterval(countdown); // reset any running timers
            const endTime = Date.now() + seconds * 1000;

            function updateTimer() {
                const now = Date.now();
                const remaining = Math.max(0, endTime - now);
                const minutes = Math.floor(remaining / 1000 / 60);
                const secs = Math.floor((remaining / 1000) % 60);
                timerDisplay.textContent = `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;

                if (remaining <= 0) {
                    clearInterval(countdown);
                    beepSound.play();
                    if (navigator.vibrate) {
                        navigator.vibrate([300, 100, 300]);
                    }
                }
            }

            updateTimer(); // fire immediately
            countdown = setInterval(updateTimer, 1000);
        }
    </script>
</body>
</html>
